var paysafe=paysafe||{};paysafe.checkout=function(e){function r(a){if(t[a])return t[a].exports;var n=t[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,r),n.l=!0,n.exports}var t={};return r.m=e,r.c=t,r.i=function(e){return e},r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:a})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},r.p="",r(r.s=15)}([function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=t(2);r.e=a.e;var n=t(7);r.CardValidation=n.CardValidation;var i=t(17);r.Environment=i.Environment;var o=t(19);r.FormatterFactory=o.FormatterFactory;var s=t(23);r.PaymentInstrumentValidation=s.PaymentInstrumentValidation;var l=t(11);r.generateGUID=l.generateGUID,r.PAYSAFE_JS=l.PAYSAFE_JS,r.PAYSAFE_CHECKOUT=l.PAYSAFE_CHECKOUT,r.PAYSAFE_REQUEST=l.PAYSAFE_REQUEST;var d=t(18);r.Communication=d.Communication,r.getCommunication=d.getCommunication;var c=t(8);r.HostedErrorEntity=c.HostedErrorEntity,r.r=c.r;var u=t(1);r.Ajax=u.Ajax;var m=t(16);r.AjaxRequest=m.AjaxRequest,r.AUTHENTICATE_URI=m.AUTHENTICATE_URI,r.TOKENIZE_URI=m.TOKENIZE_URI;var v=t(10);r.StyleHelper=v.StyleHelper;var f=t(22);r.Logger=f.Logger;var h=t(9);r.LogType=h.LogType,r.LogMessage=h.LogMessage,r.LogMessageEntity=h.LogMessageEntity;var E=t(21);r.iosHelper=E.iosHelper;var p=t(20);r.InputField=p.InputField,r.Key=p.Key;var I=t(6);r.AmountFormatter=I.AmountFormatter},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=t(2);!function(e){function r(e,r,t,a){n("POST",e,t,a,r)}function t(e,r,t){n("GET",e,r,t)}function n(e,r,t,a,n){try{var o=new XMLHttpRequest;o.open(e,r,!0),o.onreadystatechange=function(){4===o.readyState&&a(o.status,o.responseText)};for(var s in t){var l=t[s];o.setRequestHeader(s,l)}o.timeout=4e4,o.send(i(n)?n:void 0)}catch(e){e&&/Access is denied/.test(e.message)?a(0,void 0):a(0,JSON.stringify(e))}}var i=a.e.isProvided;e.post=r,e.get=t,e.sendRequest=n}(r.Ajax||(r.Ajax={}))},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});!function(e){function r(e){return"string"==typeof e}function t(e){return!v(e)||r(e)}function a(e,t){return!v(e)||!r(e)||e.length>t}function n(e){return"number"==typeof e}function i(e){return!v(e)||n(e)}function o(e){return"function"==typeof e}function s(e){return/\S+@\S+\.\S+/.test(e)}function l(e){return!v(e)||o(e)}function d(e){return"object"==typeof e&&null!==e&&"[object Array]"!==Object.prototype.toString.call(e)}function c(e){return!v(e)||d(e)}function u(e){return"[object Array]"===Object.prototype.toString.call(e)}function m(e){return!v(e)||u(e)}function v(e){return void 0!==e&&null!==e}function f(e){return"boolean"==typeof e}function h(e){return!v(e)||f(e)}function E(e){try{return r(e)&&!o(window.atob)||-1!==window.atob(e).indexOf(":")}catch(e){}return!1}function p(e){return/^\d{0,11}$/.test(e.toString(10))}e.isString=r,e.isOptionalString=t,e.isStringInvalid=a,e.isNumber=n,e.isOptionalNumber=i,e.isFunction=o,e.isEmail=s,e.isOptionalFunction=l,e.isObject=d,e.isOptionalObject=c,e.isArray=u,e.isOptionalArray=m,e.isProvided=v,e.isBoolean=f,e.isOptionalBoolean=h,e.isApiKey=E,e.isMaxElevenDigits=p}(r.e||(r.e={}))},function(e,r,t){"use strict";function a(e,r,t,a){return{environmentUrl:r,clientInfo:{correlationId:e,apiKey:t,version:a,appName:n.PAYSAFE_CHECKOUT}}}Object.defineProperty(r,"__esModule",{value:!0});var n=t(0);r.constructLogDetails=a},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.VERSION="1.0.0"},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});!function(e){e.LOADED="Loaded",e.CLOSE="Close",e.TOKENIZE_RESULT="TokenizationResult",e.THREEDS_FINISHED="ThreeDSFinished",e.CONFIGURATION="Configuration",e.FLOW_CONTROL_CLOSE="FlowControlClose",e.FLOW_CONTROL_SUCCESS="FlowControlSuccess",e.FLOW_CONTROL_FAILURE="FlowControlFailure",e.CHECKOUT_EXPIRED="CheckoutExpired",e.PAYMENT_HANDLE_CREATED="PAYMENT_HANDLE_CREATED",e.PAYMENT_HANDLE_REDIRECT="PAYMENT_HANDLE_REDIRECT"}(r.CommunicationEvent||(r.CommunicationEvent={}));!function(e){e.DIRECT_DEBIT="DirectDebit",e.CARDS="Cards",e.INTERAC="Interac",e.PAYSAFECARD="Paysafecard",e.PAYPAL="PayPal"}(r.PaymentTokenMetaInfo||(r.PaymentTokenMetaInfo={})),r.PAYMENT_METHOD_VALID_VALUES=["cards","directdebit","paysafecard","interac","paypal"]},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={BHD:3,BYR:0,JPY:0,JOD:3,KRW:0,KWD:3,LYD:3,OMR:3,PYG:0,TND:3,VND:0},n=2;!function(e){function r(e){return void 0!==paysafe&&paysafe.decimalPlaces&&"number"==typeof paysafe.decimalPlaces[e]?paysafe.decimalPlaces[e]:"number"==typeof a[e]?a[e]:n}function t(e,r){for(var t=Math.pow(10,r),a=e%t,n=(e-a)/t,i=n+".",o=t.toString().length-a.toString().length-1;o>0;--o)i+="0";return i+a}e.getDecimalPlaces=r,e.formatAmount=t}(r.AmountFormatter||(r.AmountFormatter={}))},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a;!function(e){function r(e){i=e}function t(e){var r=a(e);return r?r.name:void 0}function a(e){var r;if(e&&i)for(var t in i){var a=new RegExp(i[t].pattern);a.test(e)&&(r=i[t])}return r}function n(e){var r;if(e&&i)for(var t in i)i[t].name===e&&(r=i[t]);return r}var i;e.setPatterns=r,e.getCardBrandNameByCardNumber=t,e.getCardBrandValidationPatternByCardValue=a,e.getCardBrandValidationPatternByName=n}(a||(a={})),r.CardValidation=a},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={createInvalidCallbackError:{code:"9001",name:"createInvalidCallbackError",message:"Callback should be function."},createInvalidNumberOfArgumentsError:{code:"9002",name:"createInvalidNumberOfArgumentsError",message:"Invalid number of arguments."},createInvalidApiKeyError:{code:"9003",name:"createInvalidApiKeyError",message:"Invalid apiKey parameter."},createUnhandledErrorError:{code:"9004",name:"createUnhandledErrorError",message:"Unhandled error occurred."},createAccountConfigurationError:{code:"9005",name:"createAccountConfigurationError",message:"Account not configured correctly."},createInvalidOptionsArgumentError:{code:"9006",name:"createInvalidOptionsArgumentError",message:"Invalid options argument."},createInvalidEnvironmentOptionsError:{code:"9007",name:"createInvalidEnvironmentOptionsError",message:"Environment options is not a string neither an object."},createEnvironmentDoesntMatchError:{code:"9008",name:"createEnvironmentDoesntMatchError",message:"Environment doesn't match any of the predefined values (possible: TEST, LIVE; actual: msgparam1)."},createEnvironmentUrlShouldNotBeEmptyStringError:{code:"9009",name:"createEnvironmentUrlShouldNotBeEmptyStringError",message:"Environment url should be non empty string."},createEnvironmentAssetsUrlShouldNotBeEmptyStringError:{code:"9010",name:"createEnvironmentAssetsUrlShouldNotBeEmptyStringError",message:"Environment assetsUrl should be non empty string."},createInvalidBillingAddressCountryError:{code:"9012",name:"createInvalidBillingAddressCountryError",message:"BillingAddress country should be valid country code."},createInvalidBillingAddressZipError:{code:"9013",name:"createInvalidBillingAddressZipError",message:"BillingAddress zip should be valid zip code."},createInvalidBillingAddressStateError:{code:"9014",name:"createInvalidBillingAddressStateError",message:"BillingAddress state should be valid state."},createInvalidBillingAddressCityError:{code:"9015",name:"createInvalidBillingAddressCityError",message:"BillingAddress city should be valid city."},createInvalidBillingAddressNickNameError:{code:"9016",name:"createInvalidBillingAddressNickNameError",message:"BillingAddress nickName should be valid nickName."},createInvalidBillingAddressStreetError:{code:"9017",name:"createInvalidBillingAddressStreetError",message:"BillingAddress street should be valid street."},createInvalidBillingAddressStreet2Error:{code:"9018",name:"createInvalidBillingAddressStreet2Error",message:"BillingAddress street2 should be valid street."},createInvalidBillingAddress:{code:"9019",name:"createInvalidBillingAddress",message:"BillingAddress should be object."},createInvalidPayoutType:{code:"9020",name:"createInvalidPayoutType",message:"payout should be a boolean."},createRequiredPayoutConfigParameter:{code:"9021",name:"createRequiredPayoutConfigParameter",message:"payoutConfig must be provided if payout is passed as true"},createInvalidPayoutConfigType:{code:"9022",name:"createInvalidPayoutConfigType",message:"payoutConfig should be an object."},createInvalidMaximumAmountParameter:{code:"9023",name:"createInvalidMaximumAmountParameter",message:"payoutConfig.maximumAmount should be a valid value and it should not be less than msgParam1"},createInvalidAmountParameter:{code:"9024",name:"createInvalidAmountParameter",message:"amount should be a valid value and it should not be less than msgParam1"},createInvalidPayoutConfigAmountParameters:{code:"9025",name:"createInvalidPayoutConfigAmountParameters",message:"amount cannot be greater than payoutConfig.maximumAmount"},createNoResponseFromServerError:{code:"9026",name:"createNoResponseFromServerError",message:"No connection to server."},createInvalidResponseError:{code:"9027",name:"createInvalidResponseError",message:"Error communicating with server."},createTokenizeInvalidFieldsError:{code:"9028",name:"createTokenizeInvalidFieldsError",message:"Invalid fields: msgParam1."},createEventsShouldBeStringError:{code:"9029",name:"createEventsShouldBeStringError",message:"Events should be string."},createNoContainerElementFoundError:{code:"9039",name:"createNoContainerElementFoundError",message:"No container element was found using msgParam1 selector."},createMoreThanOneContainerFoundError:{code:"9040",name:"createMoreThanOneContainerFoundError",message:"More than one container element was found using msgParam1 selector."},createSameContainerFoundForError:{code:"9041",name:"createSameContainerFoundForError",message:"The same container was found for both msgParam1 and msgParam2."},createMixedExpiryDateConfigurationError:{code:"9042",name:"createMixedExpiryDateConfigurationError",message:"Wrong expiry date field configuration! Either expiryDate or both expiryMonth and expiryYear should be set."},createInvalidCardNumberSeparatorError:{code:"9047",name:"createInvalidCardNumberSeparatorError",message:"Invalid card number separator."},createInvalidAmountError:{code:"9059",name:"createInvalidAmountError",message:"Invalid amount parameter."},createInvalidAmountConfiguration:{code:"9060",name:"createInvalidAmountConfiguration",message:"Cannot have canEditAmount set to false, when no amount is provided."},createInvalidCurrencyError:{code:"9061",name:"createInvalidCurrencyError",message:"Invalid currency parameter."},createInvalidDetailsError:{code:"9062",name:"createInvalidDetailsError",message:"Details should be string no longer than 200 characters."},createInvalidLocaleError:{code:"9063",name:"createInvalidLocaleError",message:"Invalid locale parameter."},createInvalidImageUrlError:{code:"9064",name:"createInvalidImageUrlError",message:"Invalid imageUrl parameter."},createInvalidAccountsError:{code:"9065",name:"createInvalidAccountsError",message:"Accounts should be object."},createInvalidCloseCallbackError:{code:"9066",name:"createInvalidCloseCallbackError",message:"Close callback should be function."},createInvalidAccountIdError:{code:"9067",name:"createInvalidAccountIdError",message:"Invalid account ID for msgParam1."},createCheckoutAlreadyOpenedError:{code:"9068",name:"createCheckoutAlreadyOpenedError",message:"Paysafe Checkout already opened."},createFailedToInitializeCheckoutError:{code:"9070",name:"createFailedToInitializeCheckoutError",message:"Failed to initialize Paysafe Checkout iframe."},createInvalidPaymentMethodError:{code:"9071",name:"createInvalidPaymentMethodError",message:"Invalid payment method: msgParam1."},createInvalidDisplayPaymentMethodsError:{code:"9072",name:"createInvalidDisplayPaymentMethodsError",message:"Invalid displayPaymentMethods parameter."},createDuplicatePaymentMethodsError:{code:"9073",name:"createDuplicatePaymentMethodsError",message:"Duplicate entries in displayPaymentMethods parameter are not allowed."},createPaysafeRequestNotInitialized:{code:"9075",name:"createPaysafeRequestNotInitialized",message:"Paysafe Request not initialized."},createInvalidCountryError:{code:"9076",name:"createInvalidCountryError",message:"Invalid country parameter."},createPaysafeRequestAlreadyInitialized:{code:"9079",name:"createPaysafeRequestAlreadyInitialized",message:"Paysafe Request is already initialized."},createInvalidSimulatorParameterError:{code:"9080",name:"createInvalidSimulatorParameterError",message:"Invalid simulator parameter."},createInvalidPaysafecardConsumerIdParameterError:{code:"9081",name:"createInvalidPaysafecardConsumerIdParameterError",message:"Invalid Paysafecard consumer id parameter."},createInvalidPaysafecashConsumerIdParameterError:{code:"9082",name:"createInvalidPaysafecashConsumerIdParameterError",message:"Invalid Paysafecash consumer id parameter."},createInvalidSkrillConsumerIdParameterError:{code:"9083",name:"createInvalidSkrillConsumerIdParameterError",message:"Invalid Skrill consumer id parameter."},createInvalidPaypalConsumerIdParameterError:{code:"9084",name:"createInvalidPaypalConsumerIdParameterError",message:"Invalid Paypal consumer id parameter."},createInvalidInstantACHConsumerIdParameterError:{code:"9085",name:"createInvalidInstantACHConsumerIdParameterError",message:"Invalid Instant ACH consumer id parameter."},createInvalidNetellerConsumerIdParameterError:{code:"9086",name:"createInvalidNetellerConsumerIdParameterError",message:"Invalid Neteller consumer id parameter."},createInvalidSightlineConsumerIdParameterError:{code:"9087",name:"createInvalidSightlineConsumerIdParameterError",message:"Invalid Sightline consumer id parameter."},createInvalidSightlineSSNParameterError:{code:"9088",name:"createInvalidSightlineSSNParameterError",message:"Invalid Sightline ssn parameter."},createInvalidSightlineLast4SSNParameterError:{code:"9089",name:"createInvalidSightlineLast4SSNParameterError",message:"Invalid Sightline last4ssn parameter"},createInvalidVippreferredConsumerIdParameterError:{code:"9090",name:"createInvalidVippreferredConsumerIdParameterError",message:"Invalid VIP Preferred consumer id parameter."},createInvalidInstantAchConfigurationError:{code:"9091",name:"createInvalidInstantAchConfigurationError",message:"setupOptions.paymentMethodDetails.instantach should be provided when payout is true."},createInvalidInstantAchEmailSubjectError:{code:"9092",name:"createInvalidInstantAchEmailSubjectError",message:"setupOptions.paymentMethodDetails.instantach.emailSubject should be provided when payout is true."},createInvalidSkrillEmailSubjectError:{code:"9093",name:"createInvalidSkrillEmailSubjectError",message:"setupOptions.paymentMethodDetails.skrill.emailSubject should be provided when payout is true."},createInvalidInstantAchEmailMessageError:{code:"9094",name:"createInvalidInstantAchEmailMessageError",message:"setupOptions.paymentMethodDetails.instantach.emailMessage should be provided when payout is true."},createInvalidSkrillEmailMessageError:{code:"9095",name:"createInvalidSkrillEmailMessageError",message:"setupOptions.paymentMethodDetails.skrill.emailMessage should be provided when payout is true."},createInvalidpaypalRecipientTypeError:{code:"9096",name:"createInvalidpaypalRecipientTypeError",message:"setupOptions.paymentMethodDetails.paypal.reciepientType should be provided when payout is true."},createInvalidInstantACHPaymentIdParameterError:{code:"9097",name:"createInvalidInstantACHPaymentIdParameterError",message:"setupOptions.paymentMethodDetails.instantach.paymentId is required when payout is true."},createInvalidDynamicDescriptorInMerchantDescriptorError:{code:"9098",name:"createInvalidDynamicDescriptorInMerchantDescriptorError",message:"Invalid parameter in merchantDescriptor.dynamicDescriptor"},createInvalidPhoneInMerchantDescriptorError:{code:"9099",name:"createInvalidPhoneInMerchantDescriptorError",message:"Invalid parameter in merchantDescriptor.phone"},createFailedToLoadAvailablePaymentMethods:{code:"9100",name:"createFailedToLoadAvailablePaymentMethods",message:"Failed to load available payment methods."},createNoAvailablePaymentMethodsError:{code:"9101",name:"createNoAvailablePaymentMethodsError",message:"There are no available payment methods for this api key."},createInsecurePageError:{code:"9109",name:"createInsecurePageError",message:"Insecure page. The page should be served over HTTPS and have a valid certificate."},createInvalidCustomerIdError:{code:"9110",name:"createInvalidCustomerIdError",message:"Customer Id should be a valid string."},createInvalidCustomerOptionsError:{code:"9111",name:"createInvalidCustomerOptionsError",message:"Customer options is not an object."},createInvalidCustomerFirstNameError:{code:"9112",name:"createInvalidCustomerFirstNameError",message:"Customer firstName should be valid."},createInvalidCustomerLastNameError:{code:"9113",name:"createInvalidCustomerLastNameError",message:"Customer lastName should be valid."},createInvalidCustomerDateOfBirthError:{code:"9114",name:"createInvalidCustomerDateOfBirthError",message:"Customer dateOfBirth is not an object."},createInvalidCustomerDateOfBirthDayError:{code:"9115",name:"createInvalidCustomerDateOfBirthDayError",message:"Customer dateOfBirth.day should be valid."},createInvalidCustomerDateOfBirthMonthError:{code:"9116",name:"createInvalidCustomerDateOfBirthMonthError",message:"Customer dateOfBirth.month should be valid."},createInvalidCustomerDateOfBirthYearError:{code:"9117",name:"createInvalidCustomerDateOfBirthYearError",message:"Customer dateOfBirth.year should be valid."},createInvalidCustomerDateOfBirthLimitError:{code:"9118",name:"createInvalidCustomerDateOfBirthLimitError",message:"Customer dateOfBirth should be less than current date."},createInvalidCustomerEmailError:{code:"9119",name:"createInvalidCustomerEmailError",message:"Customer email should be valid."},createInvalidSkinError:{code:"9120",name:"createInvalidSkinError",message:"Invalid skin value."},createInvalidCanEditAmountError:{code:"9121",name:"createInvalidCanEditAmountError",message:"Invalid canEditAmount value."},createInvalidMerchantRefNumberError:{code:"9122",name:"createInvalidMerchantRefNumberError",message:"Invalid merchantRefNum value."},createInvalidSimulatorError:{code:"9123",name:"createInvalidSimulatorError",message:"Invalid simulator value."},createInvalidLiveModeError:{code:"9124",name:"createInvalidLiveModeError",message:"Invalid liveMode value."},createInvalidThreeDsV2DetailsMerchantUrlError:{code:"9125",name:"createInvalidThreeDsV2DetailsMerchantUrlError",message:"Invalid ThreeDsV2Details MerchantUrl value."},createInvalidDeviceChannelError:{code:"9126",name:"createInvalidDeviceChannelError",message:"Invalid ThreeDsV2Details DeviceChannel value."},createInvalidMessageCategoryError:{code:"9127",name:"createInvalidMessageCategoryError",message:"Invalid ThreeDsV2Details MessageCategory value."},createInvalidAuthenticationPurposeError:{code:"9128",name:"createInvalidAuthenticationPurposeError",message:"Invalid ThreeDsV2Details AuthenticationPurpose value."},createInvalidbrowserDetailsError:{code:"9129",name:"createInvalidbrowserDetailsError",message:"Invalid or missing ThreeDsV2Details browserDetails properties."},createInvalidtravelDetailsError:{code:"9130",name:"createInvalidtravelDetailsError",message:"Invalid or missing ThreeDsV2Details travelDetails properties."},createMultiplePaymentMethodsError:{code:"9131",name:"createMultiplePaymentMethodsError",message:"Failed to launch checkout. Please contact website support for assistance."},createMissingAccountIdsForSharedAPIKeyError:{code:"9132",name:"createMissingAccountIdsForSharedAPIKeyError",message:"Missing accountIds while launching with Shared API Key."}},n=function(){function e(e,r,t){this.errorObj=e,this.correlationId=r,this.msgParams=t,this.name="HostedErrorEntity";var a=this.errorObj.message;if(t)for(var n=0;n<t.length;n++)this.errorObj.message.replace("msgParam"+(n+1),this.msgParams[n]);this.detailedMessage=a,this.code=this.errorObj.code,this.message="There was an error ("+this.code+"), please contact our support."}return e.prototype.toString=function(){return delete this.errorObj,JSON.stringify(this)},e}();r.HostedErrorEntity=n;var i=function(){function e(e,r){void 0===e&&(e="There was an error, please contact our support."),this.detailedMessage=e,this.correlationId=r,this.name="HostedErrorEntity",this.message=this.detailedMessage}return e.prototype.toString=function(){return JSON.stringify(this)},e}();r.HostedErrorEntityCustom=i;!function(e){function r(e){return new n(a.createInvalidCallbackError,e)}function t(e){return new n(a.createInvalidNumberOfArgumentsError,e)}function o(){return new n(a.createInvalidApiKeyError,null)}function s(){return new n(a.createUnhandledErrorError,null)}function l(){return new n(a.createAccountConfigurationError,null)}function d(){return new n(a.createInvalidOptionsArgumentError,null)}function c(){return new n(a.createInvalidEnvironmentOptionsError,null)}function u(e){return new n(a.createEnvironmentDoesntMatchError,null,[e])}function m(){return new n(a.createEnvironmentUrlShouldNotBeEmptyStringError,null)}function v(){return new n(a.createEnvironmentAssetsUrlShouldNotBeEmptyStringError,null)}function f(){return new n(a.createInvalidBillingAddressCountryError,null)}function h(){return new n(a.createInvalidBillingAddressZipError,null)}function E(){return new n(a.createInvalidBillingAddressStateError,null)}function p(){return new n(a.createInvalidBillingAddressCityError,null)}function I(){return new n(a.createInvalidBillingAddressNickNameError,null)}function y(){return new n(a.createInvalidBillingAddressStreetError,null)}function g(){return new n(a.createInvalidBillingAddressStreet2Error,null)}function C(){return new n(a.createInvalidBillingAddress,null)}function D(){return new n(a.createInvalidPayoutType,null)}function P(){return new n(a.createRequiredPayoutConfigParameter,null)}function S(){return new n(a.createInvalidPayoutConfigType,null)}function w(e){return new n(a.createInvalidMaximumAmountParameter,null)}function A(e){return new n(a.createInvalidAmountParameter,null,[e])}function M(){return new n(a.createInvalidPayoutConfigAmountParameters,null)}function B(e,r,t){switch(e){case"5068":return t?b(t):new n(e,r);case"7508":return b("card number");default:return new n(e,r)}}function V(){var e=a.createNoResponseFromServerError;return new n(e,null)}function O(){var e=a.createInvalidResponseError;return new n(e,null)}function b(e){var r=a.createTokenizeInvalidFieldsError;return new n(r,null,[e])}function N(e){return new n(a.createEventsShouldBeStringError,e)}function T(e){return new n(a.createNoContainerElementFoundError,null,e)}function R(e){return new n(a.createMoreThanOneContainerFoundError,null,[e])}function k(e,r){return new n(a.createSameContainerFoundForError,null,[e,r])}function F(){return new n(a.createMixedExpiryDateConfigurationError,null)}function H(){return new n(a.createInvalidCardNumberSeparatorError,null)}function L(){return new n(a.createInvalidAmountError,null)}function _(){return new n(a.createInvalidAmountConfiguration,null)}function x(){return new n(a.createInvalidCurrencyError,null)}function U(e){return new n(a.createInvalidDetailsError,e)}function j(){return new n(a.createInvalidLocaleError,null)}function z(){return new n(a.createInvalidImageUrlError,null)}function K(){return new n(a.createInvalidAccountsError,null)}function Y(){return new n(a.createInvalidCloseCallbackError,null)}function q(e){return new n(a.createInvalidAccountIdError,null,[e])}function W(){return new n(a.createCheckoutAlreadyOpenedError,null)}function $(){return new n(a.createFailedToInitializeCheckoutError,null)}function Z(e){return new n(a.createInvalidPaymentMethodError,null,[e])}function G(){return new n(a.createInvalidDisplayPaymentMethodsError,null)}function J(){return new n(a.createDuplicatePaymentMethodsError,null)}function X(e){return new i("Your account is not configured for the passed displayPaymentMethods. Supported payment methods: ["+e.join(", ")+"].")}function Q(){return new n(a.createPaysafeRequestNotInitialized,null)}function ee(){return new n(a.createInvalidCountryError,null)}function re(){return new n(a.createPaysafeRequestAlreadyInitialized,null)}function te(){return new n(a.createInvalidSimulatorParameterError,null)}function ae(){return new n(a.createInvalidPaysafecardConsumerIdParameterError,null)}function ne(){return new n(a.createInvalidPaysafecashConsumerIdParameterError,null)}function ie(){return new n(a.createInvalidSkrillConsumerIdParameterError,null)}function oe(){return new n(a.createInvalidPaypalConsumerIdParameterError,null)}function se(){return new n(a.createInvalidInstantACHConsumerIdParameterError,null)}function le(){return new n(a.createInvalidNetellerConsumerIdParameterError,null)}function de(){return new n(a.createInvalidSightlineConsumerIdParameterError,null)}function ce(){return new n(a.createInvalidSightlineSSNParameterError,null)}function ue(){return new n(a.createInvalidSightlineLast4SSNParameterError,null)}function me(){return new n(a.createInvalidVippreferredConsumerIdParameterError,null)}function ve(){return new n(a.createInvalidInstantAchConfigurationError,null)}function fe(){return new n(a.createInvalidInstantAchEmailSubjectError,null)}function he(){return new n(a.createInvalidSkrillEmailSubjectError,null)}function Ee(){return new n(a.createInvalidInstantAchEmailMessageError,null)}function pe(){return new n(a.createInvalidSkrillEmailMessageError,null)}function Ie(){return new n(a.createInvalidpaypalRecipientTypeError,null)}function ye(){return new n(a.createInvalidInstantACHPaymentIdParameterError,null)}function ge(){return new n(a.createInvalidDynamicDescriptorInMerchantDescriptorError,null)}function Ce(){return new n(a.createInvalidPhoneInMerchantDescriptorError,null)}function De(e,r){return new i("Requested currency: ["+e+"] but Supported: ["+r.join(",")+"]")}function Pe(){return new n(a.createFailedToLoadAvailablePaymentMethods,null)}function Se(){return new n(a.createNoAvailablePaymentMethodsError,null)}function we(e,r){return e||(e=["NONE"]),r||(r=["NONE"]),new i("Unable to show buttons. Requested: ["+e.join(",")+"] but Supported: ["+r.join(",")+"]")}function Ae(){return new n(a.createInsecurePageError,null)}function Me(){return new n(a.createInvalidCustomerIdError,null)}function Be(){return new n(a.createInvalidCustomerOptionsError,null)}function Ve(){return new n(a.createInvalidCustomerFirstNameError,null)}function Oe(){return new n(a.createInvalidCustomerLastNameError,null)}function be(){return new n(a.createInvalidCustomerDateOfBirthError,null)}function Ne(){return new n(a.createInvalidCustomerDateOfBirthDayError,null)}function Te(){return new n(a.createInvalidCustomerDateOfBirthMonthError,null)}function Re(){return new n(a.createInvalidCustomerDateOfBirthYearError,null)}function ke(){return new n(a.createInvalidCustomerDateOfBirthLimitError,null)}function Fe(){return new n(a.createInvalidCustomerEmailError,null)}function He(){return new n(a.createInvalidSkinError,null)}function Le(){return new n(a.createInvalidCanEditAmountError,null)}function _e(){return new n(a.createInvalidMerchantRefNumberError,null)}function xe(){return new n(a.createInvalidSimulatorError,null)}function Ue(){return new n(a.createInvalidLiveModeError,null)}function je(){return new n(a.createInvalidThreeDsV2DetailsMerchantUrlError,null)}function ze(){return new n(a.createInvalidDeviceChannelError,null)}function Ke(){return new n(a.createInvalidMessageCategoryError,null)}function Ye(){return new n(a.createInvalidAuthenticationPurposeError,null)}function qe(){return new n(a.createInvalidbrowserDetailsError,null)}function We(){return new n(a.createInvalidtravelDetailsError,null)}function $e(){return new n(a.createMultiplePaymentMethodsError,null)}function Ze(){return new n(a.createMissingAccountIdsForSharedAPIKeyError,null)}e.createInvalidCallbackError=r,e.createInvalidNumberOfArgumentsError=t,e.createInvalidApiKeyError=o,e.createUnhandledErrorError=s,e.createAccountConfigurationError=l,e.createInvalidOptionsArgumentError=d,e.createInvalidEnvironmentOptionsError=c,e.createEnvironmentDoesntMatchError=u,e.createEnvironmentUrlShouldNotBeEmptyStringError=m,e.createEnvironmentAssetsUrlShouldNotBeEmptyStringError=v,e.createInvalidBillingAddressCountryError=f,e.createInvalidBillingAddressZipError=h,e.createInvalidBillingAddressStateError=E,e.createInvalidBillingAddressCityError=p,e.createInvalidBillingAddressNickNameError=I,e.createInvalidBillingAddressStreetError=y,e.createInvalidBillingAddressStreet2Error=g,e.createInvalidBillingAddress=C,e.createInvalidPayoutType=D,e.createRequiredPayoutConfigParameter=P,e.createInvalidPayoutConfigType=S,e.createInvalidMaximumAmountParameter=w,e.createInvalidAmountParameter=A,e.createInvalidPayoutConfigAmountParameters=M,e.createCustomerVaultError=B,e.createNoResponseFromServerError=V,e.createInvalidResponseError=O,e.createTokenizeInvalidFieldsError=b,e.createEventsShouldBeStringError=N,e.createNoContainerElementFoundError=T,e.createMoreThanOneContainerFoundError=R,e.createSameContainerFoundForError=k,e.createMixedExpiryDateConfigurationError=F,e.createInvalidCardNumberSeparatorError=H,e.createInvalidAmountError=L,e.createInvalidAmountConfiguration=_,e.createInvalidCurrencyError=x,e.createInvalidDetailsError=U,e.createInvalidLocaleError=j,e.createInvalidImageUrlError=z,e.createInvalidAccountsError=K,e.createInvalidCloseCallbackError=Y,e.createInvalidAccountIdError=q,e.createCheckoutAlreadyOpenedError=W,e.createFailedToInitializeCheckoutError=$,e.createInvalidPaymentMethodError=Z,e.createInvalidDisplayPaymentMethodsError=G,e.createDuplicatePaymentMethodsError=J,e.createDisplayPaymentMethodsNotSupportedError=X,e.createPaysafeRequestNotInitialized=Q,e.createInvalidCountryError=ee,e.createPaysafeRequestAlreadyInitialized=re,e.createInvalidSimulatorParameterError=te,e.createInvalidPaysafecardConsumerIdParameterError=ae,e.createInvalidPaysafecashConsumerIdParameterError=ne,e.createInvalidSkrillConsumerIdParameterError=ie,e.createInvalidPaypalConsumerIdParameterError=oe,e.createInvalidInstantACHConsumerIdParameterError=se,e.createInvalidNetellerConsumerIdParameterError=le,e.createInvalidSightlineConsumerIdParameterError=de,e.createInvalidSightlineSSNParameterError=ce,e.createInvalidSightlineLast4SSNParameterError=ue,e.createInvalidVippreferredConsumerIdParameterError=me,e.createInvalidInstantAchConfigurationError=ve,e.createInvalidInstantAchEmailSubjectError=fe,e.createInvalidSkrillEmailSubjectError=he,e.createInvalidInstantAchEmailMessageError=Ee,e.createInvalidSkrillEmailMessageError=pe,e.createInvalidpaypalRecipientTypeError=Ie,e.createInvalidInstantACHPaymentIdParameterError=ye,e.createInvalidDynamicDescriptorInMerchantDescriptorError=ge,e.createInvalidPhoneInMerchantDescriptorError=Ce,e.createCurrencyNotSupportedError=De,e.createFailedToLoadAvailablePaymentMethods=Pe,e.createNoAvailablePaymentMethodsError=Se,e.createUnableToShowButtonsError=we,e.createInsecurePageError=Ae,e.createInvalidCustomerIdError=Me,e.createInvalidCustomerOptionsError=Be,e.createInvalidCustomerFirstNameError=Ve,e.createInvalidCustomerLastNameError=Oe,e.createInvalidCustomerDateOfBirthError=be,e.createInvalidCustomerDateOfBirthDayError=Ne,e.createInvalidCustomerDateOfBirthMonthError=Te,e.createInvalidCustomerDateOfBirthYearError=Re,e.createInvalidCustomerDateOfBirthLimitError=ke,e.createInvalidCustomerEmailError=Fe,e.createInvalidSkinError=He,e.createInvalidCanEditAmountError=Le,e.createInvalidMerchantRefNumberError=_e,e.createInvalidSimulatorError=xe,e.createInvalidLiveModeError=Ue,e.createInvalidThreeDsV2DetailsMerchantUrlError=je,e.createInvalidDeviceChannelError=ze,e.createInvalidMessageCategoryError=Ke,e.createInvalidAuthenticationPurposeError=Ye,e.createInvalidbrowserDetailsError=qe,e.createInvalidtravelDetailsError=We,e.createMultiplePaymentMethodsError=$e,e.createMissingAccountIdsForSharedAPIKeyError=Ze}(r.r||(r.r={}))},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a;!function(e){e[e.ERROR=0]="ERROR",e[e.CONVERSION=1]="CONVERSION"}(a=r.LogType||(r.LogType={}));var n=function(){function e(e,r,t){this.type=e,this.message=r,this.data=t}return e}();r.LogMessageEntity=n;!function(e){function r(){return new n(a.CONVERSION,"No paRes returned from the 3DS page.",{})}function t(){return new n(a.CONVERSION,"Tokenize function call.",{})}function i(){return new n(a.CONVERSION,"Tokenize function call with 3DS.",{})}function o(){return new n(a.CONVERSION,"Successful receiving of payment token.",{})}function s(){return new n(a.CONVERSION,"Successful redirect to ACS server page.",{})}function l(){return new n(a.CONVERSION,"Successful receiving of paRes from ACS server.",{})}function d(e,r){return new n(a.ERROR,"Unhandled error occurred. "+e,r)}function c(){return new n(a.ERROR,"Card validation patterns not found!",{})}function u(e){return new n(a.ERROR,"Error parsing response: "+e,{})}function m(e){return new n(a.CONVERSION,"Payment method configuration was successfully loaded for "+e+" ms",{})}function v(e){return new n(a.CONVERSION,"Payment method configuration failed to load for "+e+" ms",{})}function f(){return new n(a.CONVERSION,"Device fingerprinting configuration was successfully loaded.",{})}function h(){return new n(a.CONVERSION,"Device fingerprinting configuration failed to load.",{})}function E(e,r){return new n(a.CONVERSION,"Invocation of hosted fields setup with id: "+e+" and version: "+r,{})}function p(e,r){return new n(a.ERROR,"Expected to find "+e+" fields but found "+r,{})}function I(){return new n(a.CONVERSION,"All fields initialized.",{})}function y(){return new n(a.CONVERSION,"Hosted fields setup failed! One or more iFrames didn't initialize.",{})}function g(){return new n(a.CONVERSION,"Invocation of paysafe checkout setup.",{})}function C(){return new n(a.CONVERSION,"Checkout iframe initialized.",{})}function D(){return new n(a.CONVERSION,"Invocation of paysafe request init function.",{})}function P(){return new n(a.CONVERSION,"Invocation of paysafe request canMakePayment function.",{})}function S(){return new n(a.CONVERSION,"Invocation of paysafe request update function.",{})}function w(e){return new n(a.CONVERSION,"Successful creation of "+e+" button.",{})}function A(){return new n(a.CONVERSION,"Completed merchant session validation.",{})}function M(){return new n(a.CONVERSION,"Failed to complete merchant session validation.",{})}function B(e){return F("neteller",e)}function V(e){return F("skrill",e)}function O(e){return F("Paypal",e)}function b(e){return F("paysafecard",e)}function N(e){return F("paysafecash",e)}function T(e){return F("sightline",e)}function R(e){return F("vippreferred",e)}function k(e){return new n(a.ERROR,"No instantach config was passed in SDK Configurationparameter setupOptions.paymentMethodDetails.instantach. However the payment methodhas been configured in Smart Routing Payments Methods API.",e)}function F(e,r){return new n(a.ERROR,"No consumerId was passed in SDK Configuration parameter setupOptions.paymentMethodDetails."+e+".consumerId, however the payment Method has been configured in Smart Routing Payments Methods API.",{paymentMethodDetails:r})}e.createNoPaResFromAcsMessage=r,e.createTokenizeFunctionCallMessage=t,e.createTokenizeWith3dsFunctionCallMessage=i,e.createReceivedTokenMessage=o,e.createSuccessfulRedirectToAcsServerMessage=s,e.createSuccessfulReceivingOfPaResMessage=l,e.createUnhandledErrorMessage=d,e.createCardValidationPatternsNotFoundMessage=c,e.createParsingResponseErrorMessage=u,e.createSuccessfulReceivingOfPaymentMethodConfiguration=m,e.createFailedToReceivePaymentMethodConfiguration=v,e.createSuccessfulReceivingOfDeviceFingerprintingConfiguration=f,e.createFailedToReceiveDeviceFingerprintingConfiguration=h,e.createSetupFunctionInvokationMessage=E,e.createUnexpectedFramesSetErrorMessage=p,e.createAllFieldsInitializedMessage=I,e.createHostedFieldsInitializeTimeoutPassedError=y,e.createCheckoutFunctionInvocationMessage=g,e.createCheckoutIframeInitializedMessage=C,e.createRequestInitFunctionInvocationMessage=D,e.createRequestCanMakePaymentFunctionInvocationMessage=P,e.createRequestUpdateFunctionInvocationMessage=S,e.createSuccessfulCreationOfButtonMessage=w,e.createCompletedValidationMessage=A,e.createFailedToCompleteValidationMessage=M,e.createInvalidNetellerConfiguration=B,e.createInvalidSkrillConfiguration=V,e.createInvalidPaypalConfiguration=O,e.createInvalidPaysafeCardConfiguration=b,e.createInvalidPaysafeCashConfiguration=N,e.createInvalidSightlineConfiguration=T,e.createInvalidVippreferredConfiguration=R,e.createInvalidInstantAchConfiguration=k}(r.LogMessage||(r.LogMessage={}))},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});!function(e){function r(e){var r=t();r.disabled=!0;var n=0;for(var i in e){var s=a(i,e[i]);if(r.insertRule)r.insertRule(i+" {"+s+"}",n),++n;else{if(o(i)&&r.addRule)continue;r.addRule&&(r.addRule(i,s,n),++n)}}return r.disabled=!1,r}function t(){var e;if(document.createStyleSheet)e=document.createStyleSheet();else{var r=document.createElement("style");document.getElementsByTagName("head")[0].appendChild(r),e=r.sheet}return e}function a(e,r){return o(e)?n(r):i(r)}function n(e){var r="";for(var t in e)r+=t+"{"+i(e[t])+"}";return r}function i(e){var r="";for(var t in e)r+=t+":"+e[t]+";";return r}function o(e){return-1!==e.indexOf("@media")}e.applyStyle=r}(r.StyleHelper||(r.StyleHelper={}))},function(e,r,t){"use strict";function a(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var r=16*Math.random()|0;return("x"===e?r:3&r|8).toString(16)})}Object.defineProperty(r,"__esModule",{value:!0}),r.generateGUID=a,r.PAYSAFE_JS="paysafe.js",r.PAYSAFE_CHECKOUT="paysafe.checkout",r.PAYSAFE_REQUEST="paysafe.request"},function(e,r,t){"use strict";function a(e,t,a,i,p,I){E=window.history&&window.history.length;var y=e.getIFrameWindow();e.sendSetup(d(a,t,i),function(r){r?p(null,r,null):(o()&&window.history.pushState({Paysafe:"Paysafe"},"Paysafe checkout",window.location.href),e.show())}),f=r.PaymentHandleStatus.NOT_CREATED,h=!0;var g={isOpen:function(){return s(t,arguments.length,0),h},close:function(){h&&(s(t,arguments.length,0),m.getCommunication().send(c.CommunicationEvent.FLOW_CONTROL_CLOSE,y,void 0))},showSuccessScreen:function(e){h&&(s(t,arguments.length,0,1),l(t,e),m.getCommunication().send(c.CommunicationEvent.FLOW_CONTROL_SUCCESS,y,e)),m.Logger.log(new m.LogMessageEntity(m.LogType.CONVERSION,"merchant invoked success screen",{}),u.constructLogDetails(t,m.Environment.resolveEnvironmentUrl(i.environment),a,v.VERSION))},showFailureScreen:function(e){h&&(s(t,arguments.length,0,1),l(t,e),m.getCommunication().send(c.CommunicationEvent.FLOW_CONTROL_FAILURE,y,e)),m.Logger.log(new m.LogMessageEntity(m.LogType.CONVERSION,"merchant invoked failure screen",{}),u.constructLogDetails(t,m.Environment.resolveEnvironmentUrl(i.environment),a,v.VERSION))}};n(g,y,e,I),e.subscribeForTokenizeResult(function(e){f=r.PaymentHandleStatus.PAYABLE;var t={paymentHandleToken:e.paymentHandleToken,paymentMethod:e.paymentMethod,customerOperation:e.customerOperation,amount:e.amount,transactionType:e.transactionType};p(g,e.error,t)})}function n(e,t,a,n){window.addEventListener("popstate",function(){e.close()}),m.getCommunication().on(c.CommunicationEvent.CHECKOUT_EXPIRED,t,function(){p=!0}),m.getCommunication().on(c.CommunicationEvent.PAYMENT_HANDLE_CREATED,t,function(){f=r.PaymentHandleStatus.INITIATED}),m.getCommunication().on(c.CommunicationEvent.PAYMENT_HANDLE_REDIRECT,t,function(){f=r.PaymentHandleStatus.REDIRECT}),m.getCommunication().on(c.CommunicationEvent.CLOSE,t,function(){if(h){a.hide(),h=!1;var e=i();e&&"Paysafe"in e&&window.history.length!==E&&window.history.go(-(window.history.length-E)),n&&n(f,p)}})}function i(){try{return o()?window.history.state:void 0}catch(e){}}function o(){return!(!window.history||!window.history.pushState)&&null===navigator.userAgent.match("MSIE 10.0;")}function s(e,r){for(var t=[],a=2;a<arguments.length;a++)t[a-2]=arguments[a];if(-1===t.indexOf(r))throw m.r.createInvalidNumberOfArgumentsError(e)}function l(e,r){if(!m.e.isOptionalString(r)||m.e.isProvided(r)&&r.length>200)throw m.r.createInvalidDetailsError(e)}function d(e,r,t){var a="LIVE"===t.environment||!t.environment;return a="object"!=typeof t.environment&&a,{apiKey:e,version:v.VERSION,instanceId:r,options:{amount:t.amount,currency:t.currency,environmentUrl:m.Environment.resolveEnvironmentUrl(t.environment),locale:t.locale,skin:t.skin,billingAddress:t.billingAddress,paymentMethodDetails:t.paymentMethodDetails,singleUseCustomerToken:t.singleUseCustomerToken,customer:t.customer,canEditAmount:t.canEditAmount,simulator:t.simulator,liveMode:a,merchantRefNum:t.merchantRefNum,merchantDescriptor:t.merchantDescriptor,payout:t.payout,payoutConfig:t.payoutConfig,displayPaymentMethods:t.displayPaymentMethods,threeDsV2Details:t.threeDsV2Details}}}Object.defineProperty(r,"__esModule",{value:!0});var c=t(5),u=t(3),m=t(0),v=t(4);r.PaymentHandleStatus={NOT_CREATED:"PAYMENT_HANDLE_NOT_CREATED",INITIATED:"PAYMENT_HANDLE_CREATED",REDIRECT:"PAYMENT_HANDLE_REDIRECT",PAYABLE:"PAYMENT_HANDLE_PAYABLE"};var f,h,E,p=!1;r.handleLifecycle=a},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=t(5),n=t(0),i=function(){function e(r,t){this.createIframe(r,t),this.listenForLoaded(),n.getCommunication().subscribe(a.CommunicationEvent.TOKENIZE_RESULT,this.iframe.contentWindow,e.tokenize)}return e.create=function(r,t){var a=!document.getElementById(e.iframeId);return e.shouldRemovePreloadedIframe(r,t,a)&&(!a&&e.preloaded.iframe.parentElement.removeChild(e.preloaded.iframe),e.preloaded=void 0),e.preloaded||(e.preloaded=new e(r,t))},e.shouldRemovePreloadedIframe=function(r,t,a){return e.preloaded&&(a||e.preloaded.hasLoadingTimeoutPassed||e.isLoadingNewSkin(r,t))},e.prototype.getIFrameWindow=function(){return this.iframe.contentWindow},e.prototype.sendSetup=function(e,r){var t=this;this.iframe.isLoading=!0;var a=function(e){t.iframe.isLoading=!1,r(e)};this.isLoaded?this.sendSetupMessage(e,a):this.onLoaded(function(r){r?a(r):t.sendSetupMessage(e,a)})},e.prototype.show=function(){this.iframe.style.display="block",this.iframe.id=e.iframeName,n.iosHelper.isDeviceIos()&&n.iosHelper.resolveIosStyles()},e.prototype.hide=function(){this.iframe.style.display="none",this.iframe.id="preloaded-paysafe-checkout",this.handleIosStyles(),this.tokenizeCallback=void 0},e.prototype.subscribeForTokenizeResult=function(e){this.tokenizeCallback=e},e.prototype.onLoaded=function(e){this.isLoaded?e(null):this.hasLoadingTimeoutPassed?e(n.r.createFailedToInitializeCheckoutError()):this.onLoadedCallback=e},e.prototype.sendSetupMessage=function(e,r){var t=!1;n.getCommunication().send(a.CommunicationEvent.CONFIGURATION,this.getIFrameWindow(),e,function(e){t||(clearTimeout(i),r(e))});var i=setTimeout(function(){t=!0,r(n.r.createFailedToInitializeCheckoutError())},5e3)},e.prototype.createIframe=function(r,t){this.iframe=document.createElement("iframe"),this.iframe.id=e.iframeId,this.iframe.name=e.iframeName,this.iframe.src=e.prepareIFrameSrcUrl(r,t),this.iframe.style.cssText="position: fixed; top: 0; left: 0; width: 100%; height: 100%; border-width: 0px; z-index: 2147483647;display: none;",n.iosHelper.isDeviceIos()?n.iosHelper.appendElement(this.iframe):document.body.appendChild(this.iframe)},e.prepareIFrameSrcUrl=function(e,r){return e="/"===e.charAt(e.length-1)?e.slice(0,e.length-1):e,r?e+"/checkout/v2/index.html?skin="+r:e+"/checkout/v2/index.html"},e.prototype.listenForLoaded=function(){var e=this;this.isLoaded=!1,this.hasLoadingTimeoutPassed=!1,n.getCommunication().on(a.CommunicationEvent.LOADED,this.iframe.contentWindow,function(){e.isLoaded=!e.hasLoadingTimeoutPassed,e.isLoaded&&e.onLoadedCallback&&(e.onLoadedCallback(null),e.onLoadedCallback=void 0),clearTimeout(r)});var r=setTimeout(function(){e.hasLoadingTimeoutPassed=!e.isLoaded,e.hasLoadingTimeoutPassed&&e.onLoadedCallback&&e.onLoadedCallback(n.r.createFailedToInitializeCheckoutError())},6e4)},e.prototype.handleIosStyles=function(){n.iosHelper.isDeviceIos()&&(n.iosHelper.scrollToDefaultPosition(),n.iosHelper.removeBodyStyles())},e.tokenize=function(r){e.preloaded.tokenizeCallback&&e.preloaded.tokenizeCallback(r)},e.isLoadingNewSkin=function(r,t){var a,n=document.createElement("a");return n.href=e.preloaded&&e.preloaded.iframe.src,a=n.protocol+"//"+n.hostname+n.pathname+n.search,this.prepareIFrameSrcUrl(r,t)!==a},e}();i.iframeId="preloaded-paysafe-checkout",i.iframeName="paysafe-checkout",r.IFrameElement=i},function(e,r,t){"use strict";function a(e,r,t){if(n(),!O.e.isApiKey(e))throw O.r.createInvalidApiKeyError();if(!O.e.isOptionalFunction(t))throw O.r.createInvalidCloseCallbackError();i(r)}function n(){var e=document.getElementById("paysafe-checkout"),r=document.getElementById("preloaded-paysafe-checkout");if(e&&"IFRAME"===e.tagName||r&&"IFRAME"===r.tagName&&!0===r.isLoading)throw O.r.createCheckoutAlreadyOpenedError()}function i(e){if(!O.e.isObject(e))throw O.r.createInvalidOptionsArgumentError();y(e),l(e),o(e),u(e),c(e),d(e),S(e),M(e),s(e)}function o(e){if(O.e.isProvided(e.displayPaymentMethods)){if(!O.e.isArray(e.displayPaymentMethods))throw O.r.createInvalidDisplayPaymentMethodsError();if(O.e.isArray(e.displayPaymentMethods)&&0===e.displayPaymentMethods.length)throw O.r.createInvalidDisplayPaymentMethodsError();var r=e.displayPaymentMethods,t=Array.from(new Set(e.displayPaymentMethods));if(O.e.isArray(e.displayPaymentMethods)&&t.length!==r.length)throw O.r.createDuplicatePaymentMethodsError()}}function s(e){if(O.e.isProvided(e.threeDsV2Details)){if(!O.e.isProvided(e.threeDsV2Details.merchantUrl)||!O.e.isString(e.threeDsV2Details.merchantUrl))throw O.r.createInvalidThreeDsV2DetailsMerchantUrlError();if(!(O.e.isProvided(e.threeDsV2Details.deviceChannel)&&O.e.isString(e.threeDsV2Details.deviceChannel)&&T.indexOf(e.threeDsV2Details.deviceChannel)>-1))throw O.r.createInvalidDeviceChannelError();if(!(O.e.isProvided(e.threeDsV2Details.messageCategory)&&O.e.isString(e.threeDsV2Details.messageCategory)&&R.indexOf(e.threeDsV2Details.messageCategory)>-1))throw O.r.createInvalidMessageCategoryError();if(!(O.e.isProvided(e.threeDsV2Details.authenticationPurpose)&&O.e.isString(e.threeDsV2Details.authenticationPurpose)&&k.indexOf(e.threeDsV2Details.authenticationPurpose)>-1))throw O.r.createInvalidAuthenticationPurposeError();if(O.e.isProvided(e.threeDsV2Details.browserDetails)&&!(O.e.isProvided(e.threeDsV2Details.browserDetails.acceptHeader)&&O.e.isProvided(e.threeDsV2Details.browserDetails.colorDepthBits)&&O.e.isProvided(e.threeDsV2Details.browserDetails.customerIp)&&O.e.isProvided(e.threeDsV2Details.browserDetails.javaEnabled)&&O.e.isProvided(e.threeDsV2Details.browserDetails.javascriptEnabled)&&O.e.isProvided(e.threeDsV2Details.browserDetails.language)&&O.e.isProvided(e.threeDsV2Details.browserDetails.screenHeight)&&O.e.isProvided(e.threeDsV2Details.browserDetails.screenWidth)&&O.e.isProvided(e.threeDsV2Details.browserDetails.timezoneOffset)&&O.e.isProvided(e.threeDsV2Details.browserDetails.userAgent)&&O.e.isString(e.threeDsV2Details.browserDetails.acceptHeader)&&O.e.isString(e.threeDsV2Details.browserDetails.colorDepthBits)&&O.e.isString(e.threeDsV2Details.browserDetails.customerIp)&&O.e.isString(e.threeDsV2Details.browserDetails.language)&&O.e.isString(e.threeDsV2Details.browserDetails.userAgent)&&O.e.isBoolean(e.threeDsV2Details.browserDetails.javaEnabled)&&O.e.isBoolean(e.threeDsV2Details.browserDetails.javascriptEnabled)&&O.e.isNumber(e.threeDsV2Details.browserDetails.screenHeight)&&O.e.isNumber(e.threeDsV2Details.browserDetails.screenWidth)&&O.e.isNumber(e.threeDsV2Details.browserDetails.timezoneOffset)))throw O.r.createInvalidbrowserDetailsError();if(O.e.isProvided(e.threeDsV2Details.travelDetails)&&!(O.e.isProvided(e.threeDsV2Details.travelDetails.isAirTravel)||!0!==e.threeDsV2Details.travelDetails.isAirTravel||O.e.isProvided(e.threeDsV2Details.travelDetails.airlineCarrier)&&O.e.isProvided(e.threeDsV2Details.travelDetails.departureDate)&&O.e.isProvided(e.threeDsV2Details.travelDetails.destination)&&O.e.isProvided(e.threeDsV2Details.travelDetails.origin)&&O.e.isProvided(e.threeDsV2Details.travelDetails.passengerFirstName)&&O.e.isProvided(e.threeDsV2Details.travelDetails.passengerLastName)&&O.e.isString(e.threeDsV2Details.travelDetails.airlineCarrier)&&O.e.isString(e.threeDsV2Details.travelDetails.departureDate)&&O.e.isString(e.threeDsV2Details.travelDetails.destination)&&O.e.isString(e.threeDsV2Details.travelDetails.origin)&&O.e.isString(e.threeDsV2Details.travelDetails.passengerFirstName)&&O.e.isString(e.threeDsV2Details.travelDetails.passengerLastName)))throw O.r.createInvalidtravelDetailsError()}}function l(e){if(O.Environment.validate(e.environment),O.e.isProvided(e.locale)&&-1===N.indexOf(e.locale))throw O.r.createInvalidLocaleError()}function d(e){if(!O.e.isOptionalBoolean(e.canEditAmount))throw O.r.createInvalidCanEditAmountError();if(!O.e.isOptionalString(e.skin))throw O.r.createInvalidSkinError();if(!O.e.isOptionalBoolean(e.liveMode))throw O.r.createInvalidLiveModeError();if(!O.e.isOptionalString(e.simulator))throw O.r.createInvalidSimulatorError()}function c(e){if(O.e.isProvided(e.amount)&&(!O.e.isNumber(e.amount)||e.amount<=0||!O.e.isMaxElevenDigits(e.amount)))throw O.r.createInvalidAmountError();if(!O.e.isOptionalString(e.singleUseCustomerToken))throw O.r.createInvalidCustomerIdError();var r=V(e.currency);if(O.e.isProvided(e.amount)&&r.minimumValue>e.amount)throw O.r.createInvalidAmountParameter(r.minimumValueLabel);w(e.customer)}function u(e){if(O.e.isProvided(e.paymentMethodDetails)&&O.e.isProvided(e.paymentMethodDetails.paysafecard)&&(!O.e.isProvided(e.paymentMethodDetails.paysafecard.consumerId)||!P(e.paymentMethodDetails.paysafecard.consumerId,1,50)))throw O.r.createInvalidPaysafecardConsumerIdParameterError();if(O.e.isProvided(e.paymentMethodDetails)&&O.e.isProvided(e.paymentMethodDetails.paysafecash)&&(!O.e.isProvided(e.paymentMethodDetails.paysafecash.consumerId)||!P(e.paymentMethodDetails.paysafecash.consumerId,1,50)))throw O.r.createInvalidPaysafecashConsumerIdParameterError();if(O.e.isProvided(e.paymentMethodDetails)&&O.e.isProvided(e.paymentMethodDetails.skrill)&&(!O.e.isProvided(e.paymentMethodDetails.skrill.consumerId)||!P(e.paymentMethodDetails.skrill.consumerId,1,50))&&!0===e.payout)throw O.r.createInvalidSkrillConsumerIdParameterError();if(O.e.isProvided(e.paymentMethodDetails)&&O.e.isProvided(e.paymentMethodDetails.paypal)&&(!O.e.isProvided(e.paymentMethodDetails.paypal.consumerId)||!P(e.paymentMethodDetails.paypal.consumerId,1,50)))throw O.r.createInvalidPaypalConsumerIdParameterError();m(e),f(e),E(e),p(e),I(e),v(e)}function m(e){if(O.e.isProvided(e.paymentMethodDetails)&&O.e.isProvided(e.paymentMethodDetails.skrill)){if(!O.e.isProvided(e.paymentMethodDetails.skrill.emailSubject)||!P(e.paymentMethodDetails.skrill.emailSubject,1,30))throw O.r.createInvalidSkrillEmailSubjectError();if(!O.e.isProvided(e.paymentMethodDetails.skrill.emailMessage)||!P(e.paymentMethodDetails.skrill.emailMessage,1,50))throw O.r.createInvalidSkrillEmailMessageError()}}function v(e){if(O.e.isProvided(e.paymentMethodDetails)&&O.e.isProvided(e.paymentMethodDetails.paypal)&&!0===e.payout&&(!O.e.isProvided(e.paymentMethodDetails.paypal.recipientType)||!P(e.paymentMethodDetails.paypal.recipientType,1,30)))throw O.r.createInvalidpaypalRecipientTypeError()}function f(e){if(!0===e.payout&&O.e.isProvided(e.paymentMethodDetails.instantach)){if(h(e),!O.e.isProvided(e.paymentMethodDetails.instantach.emailSubject)||!P(e.paymentMethodDetails.instantach.emailSubject,1,30))throw O.r.createInvalidInstantAchEmailSubjectError();if(!O.e.isProvided(e.paymentMethodDetails.instantach.consumerId)||!P(e.paymentMethodDetails.instantach.consumerId,1,50))throw O.r.createInvalidInstantACHConsumerIdParameterError();if(!O.e.isProvided(e.paymentMethodDetails.instantach.paymentId)||!P(e.paymentMethodDetails.instantach.paymentId,1,36))throw O.r.createInvalidInstantACHPaymentIdParameterError()}}function h(e){if(!O.e.isProvided(e.paymentMethodDetails.instantach.emailMessage)||!P(e.paymentMethodDetails.instantach.emailMessage,1,50))throw O.r.createInvalidInstantAchEmailMessageError()}function E(e){var r=new RegExp("^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:.[a-zA-Z0-9-]+)*$");if(O.e.isProvided(e.paymentMethodDetails)&&O.e.isProvided(e.paymentMethodDetails.neteller)&&(!O.e.isProvided(e.paymentMethodDetails.neteller.consumerId)||!P(e.paymentMethodDetails.neteller.consumerId,1,150)||!r.test(e.paymentMethodDetails.neteller.consumerId))&&!0===e.payout)throw O.r.createInvalidNetellerConsumerIdParameterError();if(O.e.isProvided(e.paymentMethodDetails)&&O.e.isProvided(e.paymentMethodDetails.neteller)&&O.e.isProvided(e.paymentMethodDetails.neteller.consumerId)&&!r.test(e.paymentMethodDetails.neteller.consumerId))throw O.r.createInvalidNetellerConsumerIdParameterError()}function p(e){if(O.e.isProvided(e.paymentMethodDetails)&&O.e.isProvided(e.paymentMethodDetails.vippreferred)&&(!O.e.isProvided(e.paymentMethodDetails.vippreferred.consumerId)||!P(e.paymentMethodDetails.vippreferred.consumerId,1,9)))throw O.r.createInvalidVippreferredConsumerIdParameterError()}function I(e){if(O.e.isProvided(e.paymentMethodDetails)&&O.e.isProvided(e.paymentMethodDetails.sightline)&&(!O.e.isProvided(e.paymentMethodDetails.sightline.consumerId)||!P(e.paymentMethodDetails.sightline.consumerId,1,20)))throw O.r.createInvalidSightlineConsumerIdParameterError();if(O.e.isProvided(e.paymentMethodDetails)&&O.e.isProvided(e.paymentMethodDetails.sightline)&&O.e.isProvided(e.paymentMethodDetails.sightline.ssn)&&9!==e.paymentMethodDetails.sightline.ssn.length)throw O.r.createInvalidSightlineSSNParameterError();if(O.e.isProvided(e.paymentMethodDetails)&&O.e.isProvided(e.paymentMethodDetails.sightline)&&O.e.isProvided(e.paymentMethodDetails.sightline.last4ssn)&&4!==e.paymentMethodDetails.sightline.last4ssn.length)throw O.r.createInvalidSightlineLast4SSNParameterError()}function y(e){if(!O.e.isString(e.currency)||!e.currency.match("^[A-Z]{3}$"))throw O.r.createInvalidCurrencyError();if(!P(e.merchantRefNum,1,255))throw O.r.createInvalidMerchantRefNumberError();if(!e.canEditAmount&&!O.e.isProvided(e.amount))throw O.r.createInvalidAmountConfiguration();if(!O.e.isProvided(e.billingAddress))throw O.r.createInvalidBillingAddress();if(!O.e.isObject(e.billingAddress))throw O.r.createInvalidBillingAddress();g(e.billingAddress)}function g(e){if(O.e.isProvided(e.nickName)&&O.e.isStringInvalid(e.nickName,50))throw O.r.createInvalidBillingAddressNickNameError();if(!O.e.isString(e.country)||!e.country.match("^[A-Z]{2}$"))throw O.r.createInvalidBillingAddressCountryError();if(D(e.zip,10,1))throw O.r.createInvalidBillingAddressZipError();if(D(e.street,50))throw O.r.createInvalidBillingAddressStreetError();if(O.e.isProvided(e.street2)&&!P(e.street2,0,50))throw O.r.createInvalidBillingAddressStreet2Error();if(D(e.city,40))throw O.r.createInvalidBillingAddressCityError();C(e)}function C(e){if(O.e.isString(e.country)&&e.country.match("^[A-Z]{2}$")&&!("US"!==e.country&&"CA"!==e.country||O.e.isString(e.state)&&e.state.match("^[A-Z]{2}$")))throw O.r.createInvalidBillingAddressStateError()}function D(e,r,t){return void 0===t&&(t=0),!O.e.isString(e)||!e||e.length>r||e.length<t}function P(e,r,t){return O.e.isString(e)&&e.length>=r&&e.length<=t}function S(e){if(O.e.isProvided(e.merchantDescriptor)){if(!O.e.isProvided(e.merchantDescriptor.dynamicDescriptor)||!O.e.isString(e.merchantDescriptor.dynamicDescriptor))throw O.r.createInvalidDynamicDescriptorInMerchantDescriptorError();if(O.e.isProvided(e.merchantDescriptor.dynamicDescriptor)&&O.e.isString(e.merchantDescriptor.dynamicDescriptor)&&!P(e.merchantDescriptor.dynamicDescriptor,1,20))throw O.r.createInvalidDynamicDescriptorInMerchantDescriptorError();if(!O.e.isProvided(e.merchantDescriptor.phone)||!O.e.isString(e.merchantDescriptor.phone))throw O.r.createInvalidPhoneInMerchantDescriptorError();if(O.e.isProvided(e.merchantDescriptor.phone)&&O.e.isString(e.merchantDescriptor.phone)&&!P(e.merchantDescriptor.phone,1,15))throw O.r.createInvalidPhoneInMerchantDescriptorError()}}function w(e){if(!O.e.isProvided(e))throw O.r.createInvalidCustomerOptionsError();if(!O.e.isObject(e))throw O.r.createInvalidCustomerOptionsError();if(!P(e.firstName,1,40))throw O.r.createInvalidCustomerFirstNameError();if(!P(e.lastName,1,40))throw O.r.createInvalidCustomerLastNameError();if(A(e),!O.e.isEmail(e.email)||!P(e.email,1,255))throw O.r.createInvalidCustomerEmailError()}function A(e){if(e.dateOfBirth){if(O.e.isObject(e.dateOfBirth)&&!O.e.isNumber(e.dateOfBirth.day)||e.dateOfBirth.day<1||e.dateOfBirth.day>31)throw O.r.createInvalidCustomerDateOfBirthDayError();if(O.e.isObject(e.dateOfBirth)&&!O.e.isNumber(e.dateOfBirth.month)||e.dateOfBirth.month<1||e.dateOfBirth.month>12)throw O.r.createInvalidCustomerDateOfBirthMonthError();var r=(new Date).getFullYear();if(O.e.isObject(e.dateOfBirth)&&!O.e.isNumber(e.dateOfBirth.year)||e.dateOfBirth.year<1900||e.dateOfBirth.year>r)throw O.r.createInvalidCustomerDateOfBirthYearError();var t=new Date,a=new Date;if(a.setDate(e.dateOfBirth.day),a.setMonth(e.dateOfBirth.month-1),a.setFullYear(e.dateOfBirth.year),t<=a)throw O.r.createInvalidCustomerDateOfBirthLimitError()}}function M(e){if(O.e.isProvided(e.payout)&&!O.e.isBoolean(e.payout))throw O.r.createInvalidPayoutType();if(e.payout&&(B(e),O.e.isProvided(e.amount)&&e.amount>e.payoutConfig.maximumAmount))throw O.r.createInvalidPayoutConfigAmountParameters()}function B(e){var r=e.payoutConfig,t=V(e.currency);if(!O.e.isProvided(r))throw O.r.createRequiredPayoutConfigParameter();if(!O.e.isObject(r))throw O.r.createInvalidPayoutConfigType();if(!O.e.isNumber(r.maximumAmount)||r.maximumAmount<t.minimumValue)throw O.r.createInvalidMaximumAmountParameter(t.minimumValueLabel)}function V(e){var r=b.AmountFormatter.getDecimalPlaces(e),t=Math.pow(10,r);return{minimumValue:t,minimumValueLabel:("\n    "+t/Math.pow(10,r)+e+"\n  ").trim()}}Object.defineProperty(r,"__esModule",{value:!0});var O=t(0),b=t(6),N=["en_US","fr"],T=["BROWSER","APP","3RI"],R=["PAYMENT"],k=["PAYMENT_TRANSACTION"];r.validateSetup=a},function(e,r,t){"use strict";function a(e,r,t,a){i.Logger.log(e,n.constructLogDetails(r,i.Environment.resolveEnvironmentUrl(a),t,l.VERSION))}Object.defineProperty(r,"__esModule",{value:!0});var n=t(3),i=t(0),o=t(12),s=t(13),l=t(4),d=t(14),c=function(e,r,t,n){var l=i.generateGUID();if(3!==arguments.length&&4!==arguments.length)throw i.r.createInvalidNumberOfArgumentsError(l);if(!i.e.isFunction(t))throw i.r.createInvalidCallbackError(l);var c=function(e,r,a){r&&(r.correlationId=l),t(e,r,a)};try{d.validateSetup(e,r,n),a(i.LogMessage.createCheckoutFunctionInvocationMessage(),l,e,r.environment);var u=s.IFrameElement.create(window.paysafeCheckoutPreloadEnvironmentUrl||i.Environment.resolveAssetsUrl(r.environment),r.skin);a(i.LogMessage.createCheckoutIframeInitializedMessage(),l,e,r.environment),o.handleLifecycle(u,l,e,r,c,n)}catch(t){t instanceof i.HostedErrorEntity?c(null,t,null):(a(i.LogMessage.createUnhandledErrorMessage(t,{}),l,e,r.environment),c(null,i.r.createUnhandledErrorError(),null))}};r.setup=c;var u=window.paysafeCheckoutPreloadEnvironmentUrl||i.Environment.resolveAssetsUrl("LIVE");"complete"===document.readyState?s.IFrameElement.create(u):window.addEventListener("DOMContentLoaded",function(){s.IFrameElement.create(u)})},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=t(1);r.TOKENIZE_URI="hosted/api/v1/tokenize",r.AUTHENTICATE_URI="hosted/api/v1/three-d-secure/authentications/",r.HTTP_SUCCESS_CODES=[200,201,202,203,204,205,206,207,208,226];!function(e){function t(e,r,t,n,s){void 0===s&&(s=d);var l=o(r);l["Content-Type"]="application/json",r.body.clientInfo=r.clientInfo,a.Ajax.post(e,JSON.stringify(r.body),l,function(e,r){return i(e,r,t,n,s)})}function n(e,r,t,n,s){var l=o(r);l["X-App-Version"]=r.clientInfo.version,l.invocationId=r.clientInfo.invocationId,a.Ajax.get(e,l,function(e,r){return i(e,r,t,n,s)})}function i(e,r,t,a,n){if(void 0===n&&(n=function(){return!0}),0!==e||r){var i=void 0;try{i=JSON.parse(r)}catch(e){}l(e)&&i&&n(i)?a(i,e):i&&i.error&&i.error.code&&i.error.message?t(i.error,void 0,e):t(void 0,r,e)}else t(void 0,void 0,e)}function o(e){var r={correlationId:e.clientInfo.correlationId,"X-Paysafe-Credentials":"Basic "+e.apiKey};return s(e,r),r}function s(e,r){e.clientInfo&&e.clientInfo.paymentMethodHeaders&&(r["Payment-Method-Headers"]=e.clientInfo.paymentMethodHeaders)}function l(e){return r.HTTP_SUCCESS_CODES.indexOf(e)>=0}function d(e){return e.threeDSecure||e.paymentToken}e.send=t,e.get=n}(r.AjaxRequest||(r.AjaxRequest={}))},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=t(2),n=t(8);!function(e){function r(e){if(a.e.isProvided(e)&&(s(e),a.e.isObject(e))){var r=e;if(!a.e.isString(r.url)||0===r.url.length)throw n.r.createEnvironmentUrlShouldNotBeEmptyStringError();if(!a.e.isString(r.assetsUrl)||0===r.assetsUrl.length)throw n.r.createEnvironmentAssetsUrlShouldNotBeEmptyStringError()}}function t(e){if(a.e.isProvided(e)&&(s(e),a.e.isObject(e))){var r=e;if(!a.e.isString(r.url)||0===r.url.length)throw n.r.createEnvironmentUrlShouldNotBeEmptyStringError()}}function i(e){return l(e,function(e){return e.url})}function o(e){return l(e,function(e){return e.assetsUrl})}function s(e){if(!a.e.isString(e)&&!a.e.isObject(e))throw n.r.createInvalidEnvironmentOptionsError();if(a.e.isString(e)&&"TEST"!==e&&"LIVE"!==e)throw n.r.createEnvironmentDoesntMatchError(e)}function l(r,t){var n=e.LIVE;return"TEST"===r?n=d:a.e.isObject(r)&&(n=t(r),"/"!==n.charAt(n.length-1)&&(n+="/")),n}e.LIVE="https://hosted.paysafe.com/";var d="https://hosted.test.paysafe.com/";e.validate=r,e.validateRequest=t,e.resolveEnvironmentUrl=i,e.resolveAssetsUrl=o}(r.Environment||(r.Environment={}))},function(e,r,t){"use strict";function a(){return d||(d=new l)}Object.defineProperty(r,"__esModule",{value:!0});var n,i=t(11),o=function(){function e(e,r,t){this.message=e,this.event=r,this.replyEvent=t}return e}();!function(e){e[e.Single=0]="Single",e[e.Permanent=1]="Permanent"}(n||(n={}));var s;!function(e){function r(e,r){for(var t=!document.documentMode&&!!window.StyleMedia,a=new Array,n=i[e]||[],o=0,s=n;o<s.length;o++){var l=s[o];try{l.frameReference===r&&a.push(l.callbackWrapper)}catch(e){t&&"Permission denied"===e.message&&a.push(l.callbackWrapper)}}return a}function t(e,r,t,a){(i[e]||(i[e]=[])).push({frameReference:r,callbackWrapper:{callback:t,type:a}})}function a(e,r,t){for(var a=i[e]||[],n=a.length-1;n>=0;n--){var o=a[n],s=o.frameReference,l=o.callbackWrapper.callback;s===r&&l===t&&a.splice(n,1)}}function n(e){var r=!document.documentMode&&!!window.StyleMedia;for(var t in i)for(var a=0,n=i[t];a<n.length;a++){var o=n[a];try{if(o.frameReference===e)return!0}catch(e){if(r&&"Permission denied"===e.message)return!0}}return!1}var i={};e.get=r,e.add=t,e.remove=a,e.isKnownSource=n}(s||(s={}));var l=function(){function e(){this.addEventListener()}return e.prototype.send=function(e,r,t,a){return this.sendId(i.generateGUID(),e,r,t,a)},e.prototype.on=function(e,r,t){s.add(e,r,t,n.Single)},e.prototype.subscribe=function(e,r,t){s.add(e,r,t,n.Permanent)},e.prototype.sendId=function(e,r,t,a,n){var i=n?this.subscribeReplier(e,t,n):void 0,s=new o(a,r,i);if(t)try{return t.postMessage(JSON.stringify(s),"*"),!0}catch(e){console.log("Error sending message: "+e)}return!1},e.prototype.subscribeReplier=function(e,r,t){var a=this,n=function(i){t(i,a.prepareReply(r,e)),s.remove(e,r,n)};return this.on(e,r,n),e},e.prototype.onMessage=function(e){var r={};try{r=JSON.parse(e.data)}catch(e){return}for(var t=r,a=t.event,i=t.message,o=t.replyEvent,l=e.source,d=this.prepareReply(l,o),c=0,u=s.get(a,l);c<u.length;c++){var m=u[c],v=m.callback;v.call(null,i,d),m.type===n.Single&&s.remove(a,l,v)}},e.prototype.addEventListener=function(){var e=this,r=function(r){s.isKnownSource(r.source)&&e.onMessage.call(e,r)};window.addEventListener?window.addEventListener("message",r,!1):window.attachEvent?window.attachEvent("onmessage",r):null===window.onmessage&&(window.onmessage=r)},e.prototype.prepareReply=function(e,r){var t=this;return r?function(a,n){return t.sendId(r,r,e,a,n)}:void 0},e}();r.Communication=l;var d;r.getCommunication=a},function(e,r,t){"use strict";function a(e,r,t){return r!==t?{value:e.substr(0,r)+e.substr(t),offset:0}:{value:e.substr(0,r)+e.substr(t+1),offset:0}}function n(e,r,t){return r!==t?{value:e.substr(0,r)+e.substr(t),offset:0}:{value:e.substr(0,r-1)+e.substr(t),offset:-1}}function i(e,r,t,a,n){var i=o(e,r,t,a);return i=s(i,n),{value:i,offset:r.length}}function o(e,r,t,a){return e.substr(0,t)+r+e.substr(a)}function s(e,r){return e.length>r?e.substring(0,r):e}function l(e,r,t,a){for(var n=0,i=t;i<a;++i)e[i]===r&&(n+=1);return n}Object.defineProperty(r,"__esModule",{value:!0});!function(e){function r(e){return new d(e)}function t(){return new c}function a(){return new u}function n(){return new m}e.newCardNumber=r,e.newExpiryDate=t,e.newExpiryMonth=a,e.newGeneral=n}(r.FormatterFactory||(r.FormatterFactory={}));var d=function(){function e(e){this.separator=e}return e.prototype.add=function(e,r,t,a,n){return 0===this.separator.length?i(e,r,t,a,n):this.processAddition(e,r,t,a,n)},e.prototype.del=function(e,r,t){var n=a(e,r,t);return n.value=this.formatAfterDelete(n.value),n},e.prototype.backspace=function(e,r,t){var a=n(e,r,t);return a.value=this.formatAfterDelete(a.value),a},e.prototype.format=function(e,r){var t=new RegExp(this.separator,"g"),a=e.replace(t,""),n=s(a,r);return{value:this.formatValue(n),offset:void 0}},e.prototype.formatAfterDelete=function(e){if(0!==this.separator.length){var r=e.replace(new RegExp(this.separator,"g"),"");return this.formatValue(r)}return e},e.prototype.processAddition=function(e,r,t,a,n){var i=new RegExp(this.separator,"g");r=r.replace(i,"");var d=o(e,r,t,a),c=d.replace(i,""),u=s(c,n),m=this.formatValue(u),v=l(m,this.separator,t,t+r.length);return{value:m,offset:r.length+v}},e.prototype.formatValue=function(e){for(var r="",t=0;t<e.length;)r+=e[t],++t%4==0&&t<e.length&&(r+=this.separator);return r},e}(),c=function(){function e(){}return e.prototype.add=function(e,r,t,a,n){var i=o(e,r,t,a),s=this.formatExpiryDateValue(i);return{value:s,offset:this.resolveOffset(e,r,t,a,s)}},e.prototype.del=function(e,r,t){var n=a(e,r,t);return n.value=this.formatExpiryDateValue(n.value),n},e.prototype.backspace=function(e,r,t){var a=n(e,r,t);return a.value=this.formatExpiryDateValue(a.value),a},e.prototype.format=function(e,r){return{value:this.formatExpiryDateValue(e),offset:void 0}},e.prototype.formatExpiryDateValue=function(e){var r=/^(\d{0,})\D{0,}(\d{0,})/.exec(e),t=r[1]||"",a=r[2]||"",n="";return/^([2-9]|1[3-9])\d{0,}$/.test(t)?(n=t.substr(1)||"",t="0"+t.charAt(0)):/^(0[1-9]|1[0-2])\d{0,}$/.test(t)?(n=t.substr(2)||"",t=t.substr(0,2)):/^00\d{0,}$/.test(t)&&(n=t.substr(1)||"",t="0"),a=n+a,a=a.substr(0,2),a.length>0||2===t.length?t+" / "+a:t},e.prototype.resolveOffset=function(e,r,t,a,n){var i=e[t];if(i&&/\D/.test(i)&&0!==t){for(var o=0,s=t;e[s]&&!/\d/.test(e[s]);++s)o+=1;return r.length+o}return 0===t?this.resolveOffsetWhenBeginIsZero(r):1===t?this.resolveOffsetWhenBeginIsOne(e,r):r.length},e.prototype.resolveOffsetWhenBeginIsZero=function(e){return/^([2-9]|1[3-9])\d{0,}$/.test(e)?e.length+4:/^(0[1-9]|1[0-2])\d{0,}$/.test(e)?e.length+3:/^00\d{0,}$/.test(e)?e.length+3:0},e.prototype.resolveOffsetWhenBeginIsOne=function(e,r){return/^[3-9]\d{0,}$/.test(r)&&"1"===e[0]?r.length+4:"0"===e[0]||/^[0-2]\d{0,}$/.test(r)?r.length+3:0},e}(),u=function(){function e(){}return e.prototype.add=function(e,r,t,a,n){return this.processAddition(e,r,t,a)},e.prototype.del=function(e,r,t){var n=a(e,r,t);return n.value=this.formatExpiryMonthValue(n.value),n},e.prototype.backspace=function(e,r,t){var a=n(e,r,t);return a.value=this.formatExpiryMonthValue(a.value),a},e.prototype.format=function(e,r){return{value:this.formatExpiryMonthValue(e),offset:void 0}},e.prototype.processAddition=function(e,r,t,a){var n=o(e,r,t,a);return{value:this.formatExpiryMonthValue(n),offset:/^[2-9]\d{0,}$/.test(r)?2:r.length}},e.prototype.formatExpiryMonthValue=function(e){return/^([2-9]|1[3-9])\d{0,}$/.test(e)?"0"+e.charAt(0):/^00\d{0,}$/.test(e)?"0":s(e,2)},e}(),m=function(){function e(){}return e.prototype.add=function(e,r,t,a,n){return i(e,r,t,a,n)},e.prototype.del=function(e,r,t){return a(e,r,t)},e.prototype.backspace=function(e,r,t){return n(e,r,t)},e.prototype.format=function(e,r){return{value:s(e,r),offset:void 0}},e}()},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});!function(e){function r(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var t=new Array;return s.forEach(function(e){return t.push(e)}),e.forEach(function(e){return t.push(e)}),t}function t(e,r){return r.find(function(r){return-1!==r.keyCode.indexOf(e)})}function a(e){return e.ctrlKey||e.altKey||e.metaKey}function n(e){var r=e.keyCode||e.which;return r===i||r===o}e.BACKSPACE={alias:"backspace",keyCode:[8]},e.DELETE={alias:"delete",keyCode:[46]},e.TAB={alias:"tab",keyCode:[9]},e.ENTER={alias:"enter",keyCode:[13]},e.SHIFT={alias:"shift",keyCode:[16]},e.PAGE_UP={alias:"pageup",keyCode:[33]},e.PAGE_DOWN={alias:"pagedown",keyCode:[34]},e.END={alias:"end",keyCode:[35]},e.HOME={alias:"home",keyCode:[36]},e.LEFT={alias:"leftarrow",keyCode:[37]},e.UP={alias:"uparrow",keyCode:[38]},e.RIGHT={alias:"rightarrow",keyCode:[39]},e.DOWN={alias:"downarrow",keyCode:[40]},e.INSERT={alias:"insert",keyCode:[45]},e.F1={alias:"F1",keyCode:[112]},e.F2={alias:"F2",keyCode:[113]},e.F3={alias:"F3",keyCode:[114]},e.F4={alias:"F4",keyCode:[115]},e.F5={alias:"F5",keyCode:[116]},e.F6={alias:"F6",keyCode:[117]},e.F7={alias:"F7",keyCode:[118]},e.F8={alias:"F8",keyCode:[119]},e.F9={alias:"F9",keyCode:[120]},e.F10={alias:"F10",keyCode:[121]},e.F11={alias:"F11",keyCode:[122]},e.F12={alias:"F12",keyCode:[123]},e.SPACE={alias:"space",keyCode:[32],value:" "},e.DASH={alias:"dash",keyCode:[109,173,189],value:"-"},e.SLASH={alias:"slash",keyCode:[191],value:"/"},e.NUM_0={alias:"zero",keyCode:[48,96],value:"0"},e.NUM_1={alias:"one",keyCode:[49,97],value:"1"},e.NUM_2={alias:"two",keyCode:[50,98],value:"2"},e.NUM_3={alias:"three",keyCode:[51,99],value:"3"},e.NUM_4={alias:"four",keyCode:[52,100],value:"4"},e.NUM_5={alias:"five",keyCode:[53,101],value:"5"},e.NUM_6={alias:"six",keyCode:[54,102],value:"6"},e.NUM_7={alias:"seven",keyCode:[55,103],value:"7"},e.NUM_8={alias:"eight",keyCode:[56,104],value:"8"},e.NUM_9={alias:"nine",keyCode:[57,105],value:"9"},e.X={alias:"x",keyCode:[88]},e.Y={alias:"y",keyCode:[89]},e.Z={alias:"z",keyCode:[90]};var i=229,o=0,s=[e.TAB,e.ENTER,e.SHIFT,e.PAGE_UP,e.PAGE_DOWN,e.END,e.HOME,e.LEFT,e.UP,e.RIGHT,e.DOWN,e.INSERT,e.DELETE,e.BACKSPACE,e.F1,e.F2,e.F3,e.F4,e.F5,e.F6,e.F7,e.F8,e.F9,e.F10,e.F11,e.F12,e.NUM_0,e.NUM_1,e.NUM_2,e.NUM_3,e.NUM_4,e.NUM_5,e.NUM_6,e.NUM_7,e.NUM_8,e.NUM_9,e.X,e.Y,e.Z];e.getKeySet=r,e.find=t,e.isModifier=a,e.isMobileDeviceKey=n}(r.Key||(r.Key={}));!function(e){function r(){return document.getElementsByTagName("input")[0]}function t(e){var r=n(e);return e.value[r.end]}function a(e){var r=n(e);return e.value[r.begin-1]}function n(e){if("number"==typeof e.selectionStart)return c(e.selectionStart,e.selectionEnd);var r=document.selection.createRange();if(r&&r.parentElement()===e){var t=e.createTextRange(),a=e.createTextRange(),n=e.value.length;return t.moveToBookmark(r.getBookmark()),a.collapse(!1),t.compareEndPoints("StartToEnd",a)>-1?c(n,n):c(-t.moveStart("character",-n),-t.moveEnd("character",-n))}return c(e.value.length,e.value.length)}function i(e,r,t){var a=n(e);e.value=r,void 0!==t&&o(e,a.begin+t)}function o(e,r){if(e.setSelectionRange)e.setSelectionRange(r,r);else if(e.createTextRange){var t=e.createTextRange();t.collapse(!0),t.moveEnd("character",r),t.moveStart("character",r),t.select()}}function s(e){return e.clipboardData?e.clipboardData.getData("Text"):window.clipboardData?window.clipboardData.getData("Text"):""}function l(e,r,t){return e.addEventListener?e.addEventListener(r,t,!1):e.attachEvent("on"+r,t)}function d(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function c(e,r){return{begin:e,end:r,length:r-e}}e.getFirstInputElement=r,e.getNextChar=t,e.getPrevChar=a,e.getSelectionRange=n,e.setValue=i,e.moveCursor=o,e.getClip=s,e.addEventListener=l,e.preventDefault=d}(r.InputField||(r.InputField={}))},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=t(10),n=function(){function e(){}return e.prototype.isDeviceIos=function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)},e.prototype.appendElement=function(e){var r=document.getElementsByTagName("html")[0];r.insertBefore(e,r.firstChild)},e.prototype.resolveIosStyles=function(){this.savePosition(),this.bodyStyle=a.StyleHelper.applyStyle({"html body":{position:"fixed !important",transform:"translate3d(-"+this.leftPosition+"px,-"+this.topPosition+"px,0px) !important",right:"0 !important",left:"0 !important"}}).ownerNode},e.prototype.removeBodyStyles=function(){this.bodyStyle.parentNode.removeChild(this.bodyStyle)},e.prototype.scrollToDefaultPosition=function(){window.scrollTo(this.leftPosition,this.topPosition)},e.prototype.savePosition=function(){this.leftPosition=document.body.scrollLeft,this.topPosition=document.body.scrollTop},e}(),i=new n;r.iosHelper=i},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=t(1),n=t(9);!function(e){function r(e,r){var s=r.environmentUrl;if(s){s="/"===s[s.length-1]?s.slice(0,s.length-1):s,s+=o;var l=t(n.LogType[e.type].toLowerCase(),r.clientInfo,e.message,e.data),d=i(r.clientInfo.correlationId);a.Ajax.post(s,l,d,function(e,r){})}}function t(e,r,t,a){var n={type:e,clientInfo:r,message:t,data:a};return JSON.stringify(new Array(n))}function i(e){return{correlationId:e,"Content-Type":"application/json; charset=utf-8"}}var o="/checkout/v2/log";e.log=r}(r.Logger||(r.Logger={}))},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=t(7);!function(e){function r(e){var r=a.CardValidation.getCardBrandValidationPatternByCardValue(e);if(r){var t=new RegExp(r.pattern),n=r.lengths;return t.test(e)&&s(n,e.length)}return/^\d{10,20}$/.test(e)}function t(e,r){var t=a.CardValidation.getCardBrandValidationPatternByName(r);return t?t.codeLength===e.length:/^\d{3,4}$/.test(e)}function n(e){if(!/^\d{2}\s\/\s\d{2}$/.test(e))return!1;var r=e.split(" / ");return i(r[0])&&o(r[1])}function i(e){return/^(0[1-9]|1[0-2])$/.test(e)}function o(e){return/^\d{2}$/.test(e)}function s(e,r){for(var t=0,a=e;t<a.length;t++){if(a[t]===r)return!0}return!1}e.validateCardNumber=r,e.validateCvv=t,e.validateExpiryDate=n,e.validateExpiryMonth=i,e.validateExpiryYear=o}(r.PaymentInstrumentValidation||(r.PaymentInstrumentValidation={}))}]);